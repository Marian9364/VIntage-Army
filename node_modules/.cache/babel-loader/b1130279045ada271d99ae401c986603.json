{"ast":null,"code":"var _jsxFileName = \"/Users/mariyannikolov/Documents/GitHub/BG-Baba/src/contexts/ItemContext.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport { createContext, useReducer, useEffect, useContext } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport * as itemsService from \"../services/itemsService\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const ItemContext = /*#__PURE__*/createContext();\nconst ADD_ITEMS = \"ADD_ITEMS\";\nconst ADD_ITEM = \"ADD_ITEMS\";\nconst FETCH_ITEM_DETAILS = \"FETCH_ITEM_DETAILS\";\nconst EDIT_ITEM = \"EDIT_ITEM\";\nconst ADD_COMMENT = \"ADD_COMMENT\";\nconst REMOVE_ITEM = \"REMOVE_ITEM\";\n\nconst itemReducer = (state, action) => {\n  switch (action.type) {\n    case ADD_ITEMS:\n      return action.payload.map(x => ({ ...x,\n        comments: []\n      }));\n\n    case ADD_ITEM:\n      return [...state, action.payload];\n\n    case FETCH_ITEM_DETAILS:\n    case EDIT_ITEM:\n      return state.map(x => x._id === action.itemId ? action.payload : x);\n\n    case ADD_COMMENT:\n      return state.map(x => x._id === action.itemId ? { ...x,\n        comments: [...x.comments, action.payload]\n      } : x);\n\n    case REMOVE_ITEM:\n      return state.filter(x => x._id !== action.itemId);\n\n    default:\n      return state;\n  }\n};\n\nexport const ItemProvider = _ref => {\n  _s();\n\n  let {\n    children\n  } = _ref;\n  const navigate = useNavigate();\n  const [items, dispatch] = useReducer(itemReducer, []);\n  useEffect(() => {\n    itemsService.getAll().then(result => {\n      const action = {\n        type: ADD_ITEMS,\n        payload: result\n      };\n      dispatch(action);\n    });\n  }, []);\n\n  const selectItem = itemId => {\n    return items.find(x => x._id === itemId) || {};\n  };\n\n  const fetchItemDetails = (itemId, itemDetails) => {\n    dispatch({\n      type: FETCH_ITEM_DETAILS,\n      payload: itemDetails,\n      itemId\n    });\n  };\n\n  const addComment = (itemId, comment) => {\n    dispatch({\n      type: ADD_COMMENT,\n      payload: comment,\n      itemId\n    });\n  };\n\n  const addItem = itemData => {\n    dispatch({\n      type: ADD_ITEM,\n      payload: itemData\n    });\n    navigate(\"/items\");\n  };\n\n  const editItem = (itemId, itemData) => {\n    dispatch({\n      type: EDIT_ITEM,\n      payload: itemData,\n      itemId\n    });\n  };\n\n  const removeItem = itemId => {\n    dispatch({\n      type: REMOVE_ITEM,\n      itemId\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(ItemContext.Provider, {\n    value: {\n      items,\n      addItem,\n      editItem,\n      addComment,\n      fetchItemDetails,\n      selectItem,\n      removeItem\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 95,\n    columnNumber: 5\n  }, this);\n};\n\n_s(ItemProvider, \"jYu54ZW2x3gn62dyJbNhwUTB8ns=\", false, function () {\n  return [useNavigate];\n});\n\n_c = ItemProvider;\nexport const useItemContext = () => {\n  _s2();\n\n  const context = useContext(ItemContext);\n  return context;\n};\n\n_s2(useItemContext, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\n\nvar _c;\n\n$RefreshReg$(_c, \"ItemProvider\");","map":{"version":3,"names":["createContext","useReducer","useEffect","useContext","useNavigate","itemsService","ItemContext","ADD_ITEMS","ADD_ITEM","FETCH_ITEM_DETAILS","EDIT_ITEM","ADD_COMMENT","REMOVE_ITEM","itemReducer","state","action","type","payload","map","x","comments","_id","itemId","filter","ItemProvider","children","navigate","items","dispatch","getAll","then","result","selectItem","find","fetchItemDetails","itemDetails","addComment","comment","addItem","itemData","editItem","removeItem","useItemContext","context"],"sources":["/Users/mariyannikolov/Documents/GitHub/BG-Baba/src/contexts/ItemContext.js"],"sourcesContent":["import { createContext, useReducer, useEffect, useContext } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport * as itemsService from \"../services/itemsService\";\n\nexport const ItemContext = createContext();\n\nconst ADD_ITEMS = \"ADD_ITEMS\";\nconst ADD_ITEM = \"ADD_ITEMS\";\nconst FETCH_ITEM_DETAILS = \"FETCH_ITEM_DETAILS\";\nconst EDIT_ITEM = \"EDIT_ITEM\";\nconst ADD_COMMENT = \"ADD_COMMENT\";\nconst REMOVE_ITEM = \"REMOVE_ITEM\";\n\nconst itemReducer = (state, action) => {\n  switch (action.type) {\n    case ADD_ITEMS:\n      return action.payload.map((x) => ({ ...x, comments: [] }));\n    case ADD_ITEM:\n      return [...state, action.payload];\n    case FETCH_ITEM_DETAILS:\n    case EDIT_ITEM:\n      return state.map((x) => (x._id === action.itemId ? action.payload : x));\n    case ADD_COMMENT:\n      return state.map((x) =>\n        x._id === action.itemId\n          ? { ...x, comments: [...x.comments, action.payload] }\n          : x\n      );\n    case REMOVE_ITEM:\n      return state.filter((x) => x._id !== action.itemId);\n    default:\n      return state;\n  }\n};\n\nexport const ItemProvider = ({ children }) => {\n  const navigate = useNavigate();\n  const [items, dispatch] = useReducer(itemReducer, []);\n\n  useEffect(() => {\n    itemsService.getAll().then((result) => {\n      const action = {\n        type: ADD_ITEMS,\n        payload: result,\n      };\n\n      dispatch(action);\n    });\n  }, []);\n\n  const selectItem = (itemId) => {\n    return items.find((x) => x._id === itemId) || {};\n  };\n\n  const fetchItemDetails = (itemId, itemDetails) => {\n    dispatch({\n      type: FETCH_ITEM_DETAILS,\n      payload: itemDetails,\n      itemId,\n    });\n  };\n\n  const addComment = (itemId, comment) => {\n    dispatch({\n      type: ADD_COMMENT,\n      payload: comment,\n      itemId,\n    });\n  };\n\n  const addItem = (itemData) => {\n    dispatch({\n      type: ADD_ITEM,\n      payload: itemData,\n    });\n\n    navigate(\"/items\");\n  };\n\n  const editItem = (itemId, itemData) => {\n    dispatch({\n      type: EDIT_ITEM,\n      payload: itemData,\n      itemId,\n    });\n  };\n\n  const removeItem = (itemId) => {\n    dispatch({\n      type: REMOVE_ITEM,\n      itemId,\n    });\n  };\n  return (\n    <ItemContext.Provider\n      value={{\n        items,\n        addItem,\n        editItem,\n        addComment,\n        fetchItemDetails,\n        selectItem,\n        removeItem,\n      }}\n    >\n      {children}\n    </ItemContext.Provider>\n  );\n};\n\nexport const useItemContext = () => {\n    const context = useContext(ItemContext);\n\n    return context;\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}